import boto3
from dotenv import load_dotenv
import os
load_dotenv()

session = boto3.Session(
    aws_access_key_id=os.getenv('AWS_SERVER_PUBLIC_KEY'),
    aws_secret_access_key=os.getenv('AWS_SERVER_SECRET_KEY'),
)

s3 = session.client('s3')

def upload_file_to_s3(file_name, bucket_name, object_name=None):
    if object_name is None:
        object_name = os.path.basename(file_name)

    try:
        s3.upload_file(file_name, bucket_name, object_name)
        print(f"File {file_name} uploaded to {bucket_name}/{object_name}")
    except Exception as e:
        print(f"Error uploading file: {e}")

# Example usage
file_name = 'downloaded.pdf'
bucket_name = os.getenv('AWS_BUCKET_NAME')
upload_file_to_s3(file_name, bucket_name)